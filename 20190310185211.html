<!-- build time:Sat Feb 12 2022 21:55:49 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta name="author" content="聆听·彼岸"><title>给网站添加背景控制——移动端 | 聆听·彼岸的博客|闲人记闲文闲事 - 彼岸少年</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="技术,技术,自学,"><meta name="description" content="欢迎来到聆听·彼岸的博客，&lt;br&gt;这里记录着我的点点滴滴。&lt;br&gt;I have a dream.&lt;br&gt;And I will achieve it.&lt;br&gt;我有一个梦想。&lt;br&gt;而且我会实现它。"><script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><link rel="stylesheet" href="/css/rico.css"><link rel="stylesheet" href="/css/sunburst.css"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="32x32" href="/img/fa/main.jpg?v=5.1.4"><script src="/js/ricoHead.js"></script><link href="/music/tplayer.css" rel="stylesheet"><script src="/music/tplayer.js"></script><script src="/music/music.js"></script><script src="/randomimg.js"></script></head><body><div class="bg" id="bg"><div class="card no-select"><p class="head_name">Hi，聆听·彼岸</p><br><br><div class="subtitle"><i title="是真的！">听说，你是我最遥不可及的梦。<br>What should I do?<br>What should I do?<br>I think I'm going to fall in love with myself.<br></i></div></div></div><div class="GalMenu GalDropDown" id="rightmenu"><div class="circle" id="gal"><div class="ring"><a href="JavaScript:void(0)" style="top:15%;left:50%" onclick="this.href=&#39;/&#39;" class="menuItem">首页</a> <a href="JavaScript:void(0)" style="top:35%;left:15%" onclick="this.href=&#39;/长话短说/&#39;" class="menuItem">长话短说</a> <a href="JavaScript:void(0)" style="top:70%;left:15%" onclick="this.href=&#39;/简约导航/&#39;" class="menuItem">简约导航</a> <a href="JavaScript:void(0)" style="top:85%;left:50%" class="menuItem">搜索</a> <a href="JavaScript:void(0)" style="top:70%;left:85%" onclick="this.href=&#39;/friends/&#39;" class="menuItem">友链</a> <a href="JavaScript:void(0)" style="top:35%;left:85%" onclick="this.href=&#39;/archives/&#39;" class="menuItem">归档</a></div></div></div><header><ul class="n no-select"><a href="/"><li class="na" title="首页"><i class="fa fa-fw fa-home"></i></li></a><a href="/about/"><li class="na" title="关于"><i class="fa fa-fw fa-user"></i></li></a><a href="/tags/"><li class="na" title="标签"><i class="fa fa-fw fa-tags"></i></li></a><a href="/categories/"><li class="na" title="分类"><i class="fa fa-fw fa-th"></i></li></a><a href="/archives/"><li class="na" title="归档"><i class="fa fa-fw fa-archive"></i></li></a><a href="/friends/"><li class="na" title="友链"><i class="fa fa-fw fa-users"></i></li></a></ul></header><main id="main"><div class="post"><h2 class="post-title">给网站添加背景控制——移动端</h2><span></span> <span class="post-time"><i class="fa fa-calendar-o"></i> 发表于 2019-03-10</span>| <span class="post-categories"><i class="fa fa-folder-o"></i> 分类于 <a href="/categories/技术/">技术</a> </span>| <span class="post-tags"><i class="fa fa-tag"></i> <a href="/tags/技术/">技术</a> <a href="/tags/自学/">自学</a> </span>| <span class="post-comment"><i class="fa fa-comment-o"></i> 评论数</span><div class="post-article"><p></p><h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><h4 id="1-准备"><a href="#1-准备" class="headerlink" title="1.准备"></a>1.准备</h4><p>先来两张图提提神(^-^)<br><img src="/img/all/loading.gif" data-original="/img/all/gwytjbj1.jpg" alt=""><br><img src="/img/all/loading.gif" data-original="/img/all/gwytjbj2.jpg" alt=""><br>不对，应该有点音乐伴随才好！<br></p><div id="aplayer-HBANnrhd" class="aplayer aplayer-tag-marker" style="margin-bottom:20px"><pre class="aplayer-lrc-content"></pre></div><script>var ap=new APlayer({element:document.getElementById("aplayer-HBANnrhd"),narrow:!1,autoplay:!1,showlrc:!1,music:{title:"我管你",author:"华晨宇",url:"https://music.163.com/song/media/outer/url?id=32619105.mp3",pic:"https://p2.music.126.net/UsSAd3Bdf77DjhCuTSEvUw==/109951163077613693.jpg?param=130y130",lrc:""}});window.aplayers||(window.aplayers=[]),window.aplayers.push(ap)</script><br>好了，开始着手准备！<br><strong>工具：</strong><p></p><ul><li>百度</li><li>菜鸟教程</li><li>notepad ++</li><li>一颗有耐心的头脑</li></ul><p><strong>目标：</strong></p><ul><li>可推荐选择图片</li><li>可以使用用户自己的图片链接</li><li>开关背景</li><li>用户自己改变网站背景颜色</li><li>用户自己改变网站字体颜色</li><li>将设置存储于cookie已便循环利用</li></ul><h4 id="2-思路"><a href="#2-思路" class="headerlink" title="2.思路"></a>2.思路</h4><p>由于只做移动端，PC以后再弄。<br>先找几张图片传到图床<br>如：<br><img src="/img/all/loading.gif" data-original="/img/all/gwytjbj3.jpg" alt="1"><br><img src="/img/all/loading.gif" data-original="https://gss0.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/a71ea8d3fd1f41340b8e2654271f95cad1c85e5a.jpg" alt="2"><br><img src="/img/all/loading.gif" data-original="/img/all/gwytjbj4.jpg" alt="3"><br><img src="/img/all/loading.gif" data-original="/img/all/gwytjbj5.jpg" alt="4"><br><img src="/img/all/loading.gif" data-original="https://img.xjh.me/desktop/img/62457462_p0.jpg" alt="5"><br><img src="/img/all/loading.gif" data-original="https://img.xjh.me/desktop/img/62493390_p0.jpg" alt="6"><br><img src="/img/all/loading.gif" data-original="https://img.xjh.me/desktop/img/57328797_p0.jpg" alt="7"></p><p>再边弄边利用百度学习<br>我觉得，有需要才会想学，想学才能学好。</p><p>好了，思路嘛！<br>按照使用流程来：<br>由于hexo的Markdown不支持流程图，<br>需要插件，就不弄了，直接文字流程。</p><h4 id="3-开始"><a href="#3-开始" class="headerlink" title="3.开始"></a>3.开始</h4><p>首先，载入网页，判断UA，读取cookie。<br>由于不晓得cookie怎么弄，只知道是浏览器储存信息之类的。<br>百度一波。什么？懒得百度？<a href="https://yked.gitee.io/go?url=http://t.cn/EMtMQCW" target="_blank" rel="noopener">点我</a><br>好了，发现菜鸟教程，直接进入，懒得找别的。<br><a href="https://yked.gitee.io/go?url=https://www.runoob.com/js/js-cookies.html" target="_blank" rel="noopener">我姓菜，我不菜</a><br>阅读完毕，回归思路。<br>首先，在菜鸟工具尝试读取一个不存在的cookie。<br>emmm，好的我没认真看<br>获取 cookie 值的函数</p><blockquote><p>然后，我们创建一个函数用户返回指定 cookie 的值：<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params">cname</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = cname + <span class="string">"="</span>;</span><br><span class="line">  <span class="keyword">var</span> ca = <span class="built_in">document</span>.cookie.split(<span class="string">';'</span>);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;ca.length; i++) </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">var</span> c = ca[i].trim();</span><br><span class="line">    <span class="keyword">if</span> (c.indexOf(name)==<span class="number">0</span>) <span class="keyword">return</span> c.substring(name.length,c.length);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>函数解析：<p></p><p>cookie 名的参数为 cname。</p><p>创建一个文本变量用于检索指定 cookie :cname + “=”。</p><p>使用分号来分割 document.cookie 字符串，并将分割后的字符串数组赋值给 ca (ca = document.cookie.split(‘;’))。</p><p>循环 ca 数组 (i=0;i&lt;ca.length;i++)，然后读取数组中的每个值，并去除前后空格 (c=ca[i].trim())。</p><p>如果找到 cookie(c.indexOf(name) == 0)，返回 cookie 的值 (c.substring(name.length,c.length)。</p><p>如果没有找到 cookie, 返回 “”。</p></blockquote><p>有兴趣的可以看看，我没兴趣，本来也没想学这么多，只是想站在巨人的肩膀上看看罢了。<br>如此一来，只需要知道这个函数cookie有值，返回其值，无值返回””就行<br>直接copy一波测试一下。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(getCookie(&quot;666&quot;));</span><br></pre></td></tr></table></figure><p></p><p>虽说有种多余的感觉……<br>继续，把它copy到判断UA后的位置，<br>加个判断<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(getCookie(&quot;backgroud_image_false_or_true&quot;) != &quot;&quot;)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>cookie无值即默认，有值执行if里的东西。<br>现在又要头脑风暴了，backgroud_image里应该存什么好呢？<br><strong><br>图片链接<br>背景颜色<br>字体颜色</strong><br>回归思路。<br>继续判断，判断这三个是否空，<br>首先判断背景图片，若不为空只需读取背景图片与字体颜色<br>若为空，则读取背景颜色与字体颜色<br>话不多说<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(getCookie(<span class="string">"backgroud_image"</span>) != <span class="string">""</span>)&#123;</span><br><span class="line"><span class="comment">//设置背景图片</span></span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,getCookie(<span class="string">"backgroud_image"</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(getCookie(<span class="string">"font-color"</span>) != <span class="string">""</span>)&#123;</span><br><span class="line"><span class="comment">//设置字体颜色</span></span><br><span class="line">$(<span class="string">"#main"</span>).css(&#123;<span class="string">"color"</span>:getCookie(<span class="string">"font-color"</span>)&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(getCookie(<span class="string">"background-color"</span>) != <span class="string">""</span>)&#123;</span><br><span class="line"><span class="comment">//设置背景颜色</span></span><br><span class="line">$(<span class="string">"body"</span>).css(&#123;<span class="string">"background-color"</span>:getCookie(<span class="string">"background-color"</span>)&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>从理论上来说就是这样了。<br>然后到用户设置。<br>我技术不好(懒)就不考虑用户界面问题了，<br>黑猫白猫，能抓到老鼠的都是好猫！</p><p>先在底部加上一个触发装置，在通过用户输入判断，最后设置cookie顺便改变网页style。<br>加按钮，定义触发函数<br>先去查查prompt函数<br>敲代码：<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p.site-info"</span>).append(<span class="string">"&lt;br&gt;&lt;a href='javascript:void(0)' onclick='backgroud_image_set()'&gt;背景图片设置&lt;/a&gt;"</span>);<span class="comment">//用a标签作为按钮没那么丑</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">backgroud_image_set</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//先将backgroud_image_false_or_true改为true</span></span><br><span class="line"><span class="built_in">document</span>.cookie=<span class="string">"backgroud_image_false_or_true=true; expires=Thu, 18 Dec 2199 12:00:00 GMT; path=/"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断选择图片或颜色</span></span><br><span class="line"><span class="keyword">var</span> image_or_color = prompt(<span class="string">"1为图片，2为颜色"</span>);</span><br><span class="line"><span class="keyword">if</span>(image_or_color == <span class="string">"1"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> url = prompt(<span class="string">"请输入链接或数字1-7若不知1-7分别是啥请输入666："</span>);</span><br><span class="line"><span class="keyword">if</span> (url == <span class="string">"1"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = <span class="string">"https://ws3.sinaimg.cn/large/005BYqpgly1g0wv07n2phj30gq0rsmzf.jpg"</span>;</span><br><span class="line">setCookie(<span class="string">"backgroud_image"</span>,image_url,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,image_url);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(url == <span class="string">"2"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = <span class="string">"https://gss0.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/a71ea8d3fd1f41340b8e2654271f95cad1c85e5a.jpg"</span>;</span><br><span class="line">setCookie(<span class="string">"backgroud_image"</span>,image_url,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,image_url);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(url == <span class="string">"3"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = <span class="string">"https://ws3.sinaimg.cn/large/005BYqpggy1g0xya4yz8aj30ir0xcqb3.jpg"</span>;</span><br><span class="line">setCookie(<span class="string">"backgroud_image"</span>,image_url,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,image_url);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(url == <span class="string">"4"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = <span class="string">"https://ws3.sinaimg.cn/large/005BYqpggy1g0xyehbd78j30u016h0y1.jpg"</span>;</span><br><span class="line">setCookie(<span class="string">"backgroud_image"</span>,image_url,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,image_url);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(url == <span class="string">"5"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = <span class="string">"https://img.xjh.me/desktop/img/62457462_p0.jpg"</span>;</span><br><span class="line">setCookie(<span class="string">"backgroud_image"</span>,image_url,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,image_url);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(url == <span class="string">"6"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = <span class="string">"https://img.xjh.me/desktop/img/62493390_p0.jpg"</span>;</span><br><span class="line">setCookie(<span class="string">"backgroud_image"</span>,image_url,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,image_url);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(url == <span class="string">"7"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = <span class="string">"https://img.xjh.me/desktop/img/57328797_p0.jpg"</span>;</span><br><span class="line">setCookie(<span class="string">"backgroud_image"</span>,image_url,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,image_url);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(url == <span class="string">"666"</span>)&#123;</span><br><span class="line">location.href = <span class="string">"https://yked.gitee.io/给网站添加背景控制制——移动端.html#2-思路"</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = url;</span><br><span class="line">setCookie(<span class="string">"backgroud_image"</span>,image_url,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"#background_image"</span>).attr(<span class="string">"src"</span>,image_url);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(image_or_color == <span class="string">"2"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> color_choose = prompt(<span class="string">"1.字体颜色，2.背景颜色："</span>);</span><br><span class="line"><span class="keyword">var</span> color = prompt(<span class="string">"请输入颜色代码："</span>);</span><br><span class="line"><span class="keyword">if</span> (color_choose == <span class="string">"1"</span>)&#123;</span><br><span class="line">setCookie(<span class="string">"font-color"</span>,color,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"body"</span>).css(<span class="string">"color"</span>,color);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(color_choose == <span class="string">"2"</span>)&#123;</span><br><span class="line"><span class="keyword">var</span> image_url = url;</span><br><span class="line">setCookie(<span class="string">"background-color"</span>,color,<span class="number">360</span>);</span><br><span class="line">$(<span class="string">"body"</span>).attr(<span class="string">"background"</span>,color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>好！！！自我感觉良好！<br>最后附上一个拾色器<br><a href="/cai/date.html">点我</a></p><p>至此，还差一个图片开关的cookie，即在getCookie前加个判断<br>继续代码<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(getCookie(<span class="string">"image_open_or_close"</span>) == <span class="string">"ture"</span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>在背景开关按钮函数处加个cookie设置<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(getCookie(<span class="string">"image_open_or_close"</span>) == <span class="string">"true"</span>)&#123;</span><br><span class="line">    setCookie(<span class="string">"image_open_or_close"</span>,<span class="string">"false"</span>,<span class="number">360</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (getCookie(<span class="string">"image_open_or_close"</span>) == <span class="string">"false"</span>)&#123;</span><br><span class="line">    setCookie(<span class="string">"image_open_or_close"</span>,<span class="string">"true"</span>,<span class="number">360</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    setCookie(<span class="string">"image_open_or_close"</span>,<span class="string">"false"</span>,<span class="number">360</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>在判断UA后加上这句<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(getCookie(<span class="string">"image_open_or_close"</span>) == <span class="string">"false"</span>)&#123;</span><br><span class="line">    $(<span class="string">"#background_image"</span>).hide();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>最后，为了防止设置错乱，加一个清空cookie按钮。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p.site-info"</span>).append(<span class="string">"&lt;br&gt;&lt;a href='javascript:void(0)' onclick='clean_cookie()'&gt;清空背景存储信息&lt;/a&gt;"</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clean_cookie</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cookie_names = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"backgroud_image_false_or_true"</span>,<span class="string">"backgroud_image"</span>,<span class="string">"font-color"</span>,<span class="string">"background-color"</span>,<span class="string">"image_open_or_close"</span>);<span class="comment">//把刚才声明的cookie_name全放到这里，再用for循环清空。</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;cookie_names.length;i++)&#123;</span><br><span class="line">        <span class="built_in">document</span>.cookie = cookie_names[i] + <span class="string">"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h4 id="4-结束"><a href="#4-结束" class="headerlink" title="4.结束"></a>4.结束</h4><p>实在是感到时间紧张，中考即将来临，风雨在即。<br>终于结束，甚是感慨。果然，有志者事竟成！<br>好了，不瞎比比了。<br>突然</p><h4 id="5-有感而发"><a href="#5-有感而发" class="headerlink" title="5.有感而发"></a>5.有感而发</h4><ul><li>看不尽风风雨雨，念不完生生世世。</li><li>我的梦想踏上了人生的轨道，一眼望去，为何不见你？</li><li>小雨怡情，大雨伤心，暴雨灰飞烟灭。</li><li>有你的地方，便有阳光，但有阳光的地方，不一定有你。</li><li>没你的地方，尽是风雨，但没风雨的地方，不一定没你。</li><li>道是无晴却有情，若有阳光，我所想罢，若有风雨，我所念罢。<br>——聆听·彼岸</li></ul><h4 id="6-相见欢"><a href="#6-相见欢" class="headerlink" title="6.相见欢"></a>6.相见欢</h4><p>默一遍，相见欢——李煜</p><blockquote><p>无言独上西楼，月如钩，寂寞梧桐深院锁清秋。<br>剪不断，理还乱，是离愁，别是一般滋味在心头。</p></blockquote><br><div style="text-align:center">满分是10分的话，这篇文章你给几分，您的支持将鼓励我继续创作！</div><iframe src="https://yked.gitee.io/playing-reward/" style="overflow-x:hidden;overflow-y:hidden;border:0xp none #fff;min-height:240px;width:100%" frameborder="0" scrolling="no"></iframe><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者: </strong>聆听·彼岸</li><li class="post-copyright-link"><strong>本文链接: </strong><a href="https://ltba.github.io/20190310185211.html" title="给网站添加背景控制——移动端">https://ltba.github.io/20190310185211.html</a></li><li class="post-copyright-license"><strong>版权声明: </strong>本站未注明转载的文章均为原创,所有文章除特别声明外,均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议.转载请注明出处!</li></ul><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/20190310143816.html" rel="next" title="偶遇和泉纱雾——二次元"><i class="fa fa-chevron-left"></i> 偶遇和泉纱雾——二次元</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/20190315201518.html" rel="prev" title="一条代码随机播放音乐">一条代码随机播放音乐 <i class="fa fa-chevron-right"></i></a></div></div><aside id="directory"><div class="cl"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#过程"><span class="toc-text">过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-准备"><span class="toc-text">1.准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-思路"><span class="toc-text">2.思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-开始"><span class="toc-text">3.开始</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-结束"><span class="toc-text">4.结束</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-有感而发"><span class="toc-text">5.有感而发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-相见欢"><span class="toc-text">6.相见欢</span></a></li></ol></li></ol></div></aside></div><div class="comments" id="comments"><div id="gitalk-container"></div></div></div></main><div class="footer"><div class="time"><span id="time"></span></div><div class="copyright">© 2019 <a href="https://yked.gitee.io">聆听·彼岸</a>. All Rights Reserved. Theme By 《空》.</div></div><div class="back-to-top"></div><script src="/js/rico.js"></script><div id="TPlayer"></div><script src="/music/player.js"></script><link rel="stylesheet" href="/css/gitalk.min.css"><script src="/js/gitalk.min.js"></script><script type="text/javascript">var gitalk=new Gitalk({clientID:"f57f0725ac5c431cb744",clientSecret:"e7b68dc9342d912a12cdc635ea0aa6e3c04ab3e9",repo:"comments",owner:"cai471600373",admin:["cai471600373"],id:location.pathname,distractionFreeMode:"true"});gitalk.render("gitalk-container")</script><script>!function(t){function n(){for(var n=0;n<e.length;n++)i=e[n],0<=(o=i.getBoundingClientRect()).top&&0<=o.left&&o.top<=(t.innerHeight||document.documentElement.clientHeight)&&function(){var t,i,o,c,r=e[n];t=r,i=function(){e=e.filter(function(t){return r!==t})},o=new Image,c=t.getAttribute("data-original"),o.onload=function(){t.src=c,i&&i()},o.src=c}();var i,o}var e=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));n(),t.addEventListener("scroll",function(){!function(t,n){clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)}(n,t)})}(this)</script></body></html><!-- rebuild by neat -->